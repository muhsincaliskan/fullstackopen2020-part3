{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","Notification.js","services/personsService.js","App.js","index.js"],"names":["Filter","props","type","value","onChange","handleFilterChange","PersonForm","onSubmit","addPerson","newName","handleNameChange","required","newNumber","handleNumberChange","Persons","persons","handleDelete","map","person","index","name","number","onClick","Notification","message","className","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","setPersons","setNewName","setNewNumber","newFilter","setNewFilter","notificationMessage","setNotificationMessage","useEffect","personService","personsData","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","length","window","confirm","personToUpdate","find","updatedData","catch","err","setTimeout","n","alert","personObject","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.042366da.chunk.js","sourcesContent":["import React from 'react'\r\nconst Filter = (props) => (\r\n\r\n \r\n        <div>\r\n            Filter shown with: <input type=\"text\" value={props.value} onChange={props.handleFilterChange} />\r\n        </div>\r\n \r\n)\r\n\r\nexport default Filter;","const PersonForm = (props) => (\r\n\r\n    <form onSubmit={props.addPerson}>\r\n        <div>\r\n            Name: <input value={props.newName} onChange={props.handleNameChange} required />\r\n        </div>\r\n        <div>\r\n            Number: <input type='tel' value={props.newNumber} onChange={props.handleNumberChange} required />\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n)\r\n\r\nexport default PersonForm;","const Persons = ({persons,handleDelete}) => (\r\n    \r\n    persons.map((person,index) => \r\n      <p key={index}>{person.name} {person.number} <button type=\"submit\" onClick={()=>handleDelete(person)} >delete</button> </p>\r\n    )\r\n  \r\n)\r\n  export default Persons","const Notification = ({ type, message }) => {\r\n    if (type === null) {\r\n        return null\r\n    }\r\n    if (type === \"error\")\r\n        return (\r\n            <div className=\"error\">\r\n                {message}\r\n            </div>\r\n        )\r\n    if (type === \"success\")\r\n        return (\r\n            <div className=\"success\">\r\n                {message}\r\n            </div>\r\n        )\r\n}\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n// const baseUrl = 'http://localhost:3001/api/persons'\r\nconst getAll = () => {\r\n  const request= axios.get(baseUrl)\r\n  return request.then(response=>response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request=  axios.post(baseUrl, newObject)\r\n  return request.then(response=>response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request= axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response=>response.data)\r\n}\r\nconst deletePerson = (id) => {\r\n  const request= axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response=>response.data)\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default { getAll,create,update,deletePerson}","import React, { useState, useEffect } from 'react'\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport Notification from \"./Notification\";\nimport personService from './services/personsService'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState({ type: null, message: '' })\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const isExist = persons.filter(person => person.name.toLowerCase() === newName.toLowerCase()).length\n\n    if (isExist) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with new one`)) {\n        const personToUpdate = persons.find(person => person.name.toLowerCase() === newName.toLowerCase())\n        personService\n          .update(personToUpdate.id, { ...personToUpdate, number: newNumber })\n          .then(updatedData => {\n            setPersons(persons.map(person => person.id !== personToUpdate.id ? person : updatedData))\n          })\n          .catch(err => {\n            setNotificationMessage(\n              {\n                type: \"error\",\n                message: `Person '${newName}' was already deleted from server`\n              }\n            )\n            setTimeout(() => {\n              setNotificationMessage({ type: null, message: '' })\n            }, 5000)\n            setPersons(persons.filter(n => n.id !== personToUpdate.id))\n          })\n        setNotificationMessage({ type: \"success\", message: `Person Updated` })\n        setTimeout(() => {\n          setNotificationMessage({ type: null, message: '' })\n        }, 5000)\n      }\n    }\n    else {\n      if (newName === '' || newNumber === '')\n        return alert(\n          `Name and Number can not be empty! `\n        )\n      const personObject = {\n        name: newName,\n        number: newNumber,\n        id: ++persons.length\n      }\n      personService.create(personObject).then(updatedData => {\n        setPersons(persons.concat(updatedData))\n      }).catch(err => {\n        setNotificationMessage(\n          { type: \"error\", message: `This id already exists.` }\n        )\n        setTimeout(() => {\n          setNotificationMessage({ type: null, message: '' })\n        }, 5000)\n      })\n      setNotificationMessage({ type: \"success\", message: `Added '${newName}'` })\n      setTimeout(() => {\n        setNotificationMessage({ type: null, message: '' })\n      }, 5000)\n      setNewName('')\n      setNewNumber('')\n    }\n  }\n  const handleDelete = (person) => {\n\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService.deletePerson(person.id)\n        .then(updatedData => { setPersons(persons.filter(n => n.id !== person.id)) })\n        .catch(err => alert(\"Already Deleted.\"))\n      setNotificationMessage(\n        {\n          type: \"success\",\n          message: `Deleted '${person.name}'`\n        }\n      )\n      setTimeout(() => {\n        setNotificationMessage({ type: null, message: null })\n      }, 5000)\n    }\n  }\n\n  useEffect(() => {\n    personService.getAll()\n      .then(personsData => {\n        setPersons(personsData)\n      })\n  }, [])\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage.message} type={notificationMessage.type} />\n      <Filter value={newFilter} handleFilterChange={handleFilterChange} />\n      <h3>Add a new</h3>\n      <PersonForm\n        addPerson={addPerson}\n        name={newName} handleNameChange={handleNameChange}\n        number={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\n\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}